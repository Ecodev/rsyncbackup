<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>11.&nbsp;Incremental backup</title><link rel="stylesheet" href="html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.67.0"><link rel="start" href="index.html" title="rsyncbackup: User's Manual"><link rel="up" href="index.html" title="rsyncbackup: User's Manual"><link rel="prev" href="ar01s10.html" title="10.&nbsp;Conditional shell code"><link rel="next" href="ar01s12.html" title="12.&nbsp;Notifications"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">11.&nbsp;Incremental backup</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ar01s10.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ar01s12.html">Next</a></td></tr></table><hr></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="incremental_backup"></a>11.&nbsp;Incremental backup</h2></div></div></div><p>From version 0.3, rsyncbackup support incremental backup both to local and remote destinations. Incremental backup means that the changes from last backup is saved separate from the previous backup, such that you can restore several versions of your backup. In example you can have full backups from both Monday, Tuesday, Wedenesday, Thursday... and so on. If you find you want the tuesday version of your report, you'll find it. First you will think; wouldn't this require very much disk usage. Well, no, if you just store the files that are changed. With rsyncbackup you can specify a destination to be incremental, and you can specify how many increments you want. Several versions of your backup will then be available. The use of hardlinks allow you to get several separate without storing the same file twice. To have 6 additional increments, in example for you <code class="literal">daily</code> backup set, so you have one week of backups, you can create the following destination:</p><pre class="programlisting">
ipod-incr|local[tag=backupincr,incremental=6]:/Volumes/iPodAndreas/Backup/|\
	test -d /Volumes/iPodAndreas/Backup/|--whole-file --delete
media-backup-incr|ssh[incremental=4,key=insecure-ibook,tag=increment]:andrs@192.168.1.22:\
	/Volumes/Backup/rsync/Snow-incr|traceroute -m 2 192.168.1.22|--delete
</pre><p>The second line is an example of remote incremental backup. The incremental option specify how many additional increments you want, <code class="literal">incremental=0</code> is default and disable incremental backup. <code class="literal">tag=foo</code> is used for naming the destinations folders <code class="filename">foo.0</code>(newest), <code class="filename">foo.1</code>, <code class="filename">foo.2</code>, <code class="filename">foo.3</code> and so on. You probably want to use incremental backup together with the <code class="literal">--delete</code> rsync option, which allows files that are deleted on your source also to be deleted at the destination, because the deleted file will still we available through some older increments.</p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Only one source per incremental destination</h3><p>When using incremental backups, you can <span class="emphasis"><em>only</em></span> backup from <span class="emphasis"><em>one</em></span> source to that specific incremental destinations.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar01s10.html">Prev</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ar01s12.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">10.&nbsp;Conditional shell code&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;12.&nbsp;Notifications</td></tr></table></div></body></html>